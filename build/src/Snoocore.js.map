{"version":3,"sources":["Snoocore.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;sBAGM,QAAQ;;;;oBACV,MAAM;;;;;;uBAGH,WAAW;;;;6BACL,iBAAiB;;;;wBACtB,YAAY;;;;0BACV,cAAc;;;;qBACnB,SAAS;;;;AAE3B,QAAQ,CAAC,IAAI,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;AACxC,QAAQ,CAAC,OAAO,GAAG,OAAO,CAAC;;AAE3B,MAAM,CAAC,OAAO,GAAG,QAAQ,CAAC;AAC1B,kBAAK,QAAQ,CAAC,QAAQ,EAAE,oBAAO,YAAY,CAAC,CAAC;AAC7C,SAAS,QAAQ,CAAC,iBAAiB,EAAE;;AAEnC,MAAI,IAAI,GAAG,IAAI,CAAC;;AAEhB,sBAAO,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;;AAG/B,MAAI,CAAC,WAAW,GAAG,4BAAe,iBAAiB,CAAC,CAAC;;AAErD,MAAI,CAAC,SAAS,GAAG,0BAAa,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;;AAEzD,MAAI,CAAC,QAAQ,GAAG,yBAAY,IAAI,CAAC,SAAS,CAAC,CAAC;;;;;;;AAO5C,MAAI,CAAC,KAAK,GAAG,uBAAU,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;AACxD,MAAI,CAAC,YAAY,GAAG,uBAAU,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;;;AAG/D,MAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACzE,MAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACzE,MAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC7C,MAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACnD,MAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;;AAEjD,MAAI,CAAC,cAAc,GAAG,+BAAkB,IAAI,CAAC,WAAW,EAChB,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,KAAK,EACV,IAAI,CAAC,YAAY,CAAC,CAAC;;;AAG3D,MAAI,CAAC,cAAc,CAAC,EAAE,CAAC,cAAc,EAAE,UAAS,aAAa,EAAE;AAC7D,QAAI,CAAC,IAAI,CAAC,cAAc,EAAE,aAAa,CAAC,CAAC;GAC1C,CAAC,CAAC;;AAEH,MAAI,CAAC,cAAc,CAAC,EAAE,CAAC,sBAAsB,EAAE,UAAS,aAAa,EAAE;AACrE,QAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE,aAAa,CAAC,CAAC;GAClD,CAAC,CAAC;;;;;;AAMH,MAAI,GAAG,CAAC;AACR,OAAK,GAAG,IAAI,IAAI,EAAE;AAChB,QAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;GAC3C;;AAED,MAAI,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;AAChC,SAAO,IAAI,CAAC;CACb","file":"Snoocore.js","sourcesContent":["\"use strict\";\n\n// Node.js libraries\nimport events from 'events';\nimport util from 'util';\n\n// Our modules\nimport Request from './Request';\nimport RedditRequest from './RedditRequest';\nimport Throttle from './Throttle';\nimport UserConfig from './UserConfig';\nimport OAuth from './OAuth';\n\nSnoocore.file = require('./https/file');\nSnoocore.version = '3.0.0';\n\nmodule.exports = Snoocore;\nutil.inherits(Snoocore, events.EventEmitter);\nfunction Snoocore(userConfiguration) {\n\n  var self = this;\n\n  events.EventEmitter.call(self);\n\n  // @TODO - this is a \"god object\" of sorts.\n  self._userConfig = new UserConfig(userConfiguration);\n\n  self._throttle = new Throttle(self._userConfig.throttle);\n\n  self._request = new Request(self._throttle);\n\n  // Two OAuth instances. One for authenticated users, and another for\n  // Application only OAuth. Two are needed in the instance where\n  // a user wants to bypass authentication for a call - we don't want\n  // to waste time by creating a new app only instance, authenticating,\n  // etc.\n  self.oauth = new OAuth(self._userConfig, self._request);\n  self.oauthAppOnly = new OAuth(self._userConfig, self._request);\n\n  // Expose OAuth functions in here\n  self.getExplicitAuthUrl = self.oauth.getExplicitAuthUrl.bind(self.oauth);\n  self.getImplicitAuthUrl = self.oauth.getImplicitAuthUrl.bind(self.oauth);\n  self.auth = self.oauth.auth.bind(self.oauth);\n  self.refresh = self.oauth.refresh.bind(self.oauth);\n  self.deauth = self.oauth.deauth.bind(self.oauth);\n\n  self._redditRequest = new RedditRequest(self._userConfig,\n                                          self._request,\n                                          self.oauth,\n                                          self.oauthAppOnly);\n\n  // bubble up the events\n  self._redditRequest.on('server_error', function(responseError) {\n    self.emit('server_error', responseError);\n  });\n\n  self._redditRequest.on('access_token_expired', function(responseError) {\n    self.emit('access_token_expired', responseError);\n  });\n\n  /*\n     Make self._redditRequest.path the primary function that we return, but\n     still allow access to the objects defined on self\n   */\n  var key;\n  for (key in self) {\n    self._redditRequest.path[key] = self[key];\n  }\n\n  self = self._redditRequest.path;\n  return self;\n}\n"],"sourceRoot":"/source/"}